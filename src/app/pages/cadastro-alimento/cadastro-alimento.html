<div class="cadastro-container">
    <form class="cadastro-form" (ngSubmit)="cadastrarDoacao()">
        <div class="form-header">
            <h2>Cadastro de Alimentos</h2>
            <p>Preencha as informa√ß√µes sobre a doa√ß√£o de alimentos</p>
        </div>

        <section class="form-section">
            <h3>
                <span class="icon">üçΩÔ∏è</span>
                Informa√ß√µes dos alimentos
            </h3>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="tipo">Tipo de alimento</label>
                    <select id="tipo" [(ngModel)]="doacao.tipo" name="tipo" required>
                        <option value="" disabled selected>Selecione o tipo</option>
                        <option *ngFor="let tipo of tiposAlimento" [value]="tipo">{{ tipo }}</option>
                    </select>
                    <div class="error" *ngIf="!doacao.tipo && formSubmitted">
                        <small>Tipo de alimento √© obrigat√≥rio.</small>
                    </div>
                </div>

                <div class="form-group">
                    <label for="validade">Data de validade</label>
                    <input 
                        id="validade"
                        type="date" 
                        [(ngModel)]="doacao.validade" 
                        name="validade" 
                        required 
                    />
                    <div class="error" *ngIf="!doacao.validade && formSubmitted">
                        <small>Data de validade √© obrigat√≥ria.</small>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="descricao">Nome / Descri√ß√£o</label>
                <input 
                    id="descricao"
                    type="text" 
                    [(ngModel)]="doacao.descricao" 
                    name="descricao"
                    placeholder="Ex: Feij√£o integral, Feij√£o carioca" 
                    required 
                />
                <div class="error" *ngIf="!doacao.descricao && formSubmitted">
                    <small>Descri√ß√£o √© obrigat√≥ria.</small>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="quantidade">Quantidade</label>
                    <input 
                        id="quantidade"
                        type="number" 
                        [(ngModel)]="doacao.quantidade" 
                        name="quantidade" 
                        min="1"
                        placeholder="0"
                        required 
                    />
                    <div class="error" *ngIf="!doacao.quantidade && formSubmitted">
                        <small>Quantidade √© obrigat√≥ria.</small>
                    </div>
                </div>

                <div class="form-group">
                    <label for="unidade">Unidade</label>
                    <select id="unidade" [(ngModel)]="doacao.unidade" name="unidade" required>
                        <option value="" disabled selected>Selecione a unidade</option>
                        <option *ngFor="let unidade of unidades" [value]="unidade">{{ unidade }}</option>
                    </select>
                    <div class="error" *ngIf="!doacao.unidade && formSubmitted">
                        <small>Unidade √© obrigat√≥ria.</small>
                    </div>
                </div>
            </div>
        </section>

        <section class="form-section">
            <h3>
                <mat-icon>location_on</mat-icon>
                Localiza√ß√£o e Coleta
            </h3>
            
            <div class="form-group">
                <label for="endereco">Endere√ßo para coleta</label>
                <input 
                    id="endereco"
                    type="text" 
                    [(ngModel)]="doacao.endereco" 
                    name="endereco"
                    placeholder="Rua, n√∫mero, bairro, cidade - CEP" 
                    required 
                />
                <div class="error" *ngIf="!doacao.endereco && formSubmitted">
                    <small>Endere√ßo √© obrigat√≥rio.</small>
                </div>
            </div>

            <div class="form-group">
                <label for="armazenamento">Condi√ß√µes de armazenamento</label>
                <select id="armazenamento" [(ngModel)]="doacao.armazenamento" name="armazenamento" required>
                    <option value="" disabled selected>Selecione as condi√ß√µes</option>
                    <option *ngFor="let condicao of condicoesArmazenamento" [value]="condicao">{{ condicao }}</option>
                </select>
                <div class="error" *ngIf="!doacao.armazenamento && formSubmitted">
                    <small>Condi√ß√µes de armazenamento s√£o obrigat√≥rias.</small>
                </div>
            </div>
        </section>

        <section class="form-section">
            <h3>
                <mat-icon>info</mat-icon>
                Informa√ß√µes adicionais
            </h3>
            
            <div class="form-group">
                <label for="observacoes">Observa√ß√µes</label>
                <textarea 
                    id="observacoes"
                    [(ngModel)]="doacao.observacoes" 
                    name="observacoes"
                    rows="4"
                    placeholder="Informa√ß√µes extras, hor√°rios para coleta, instru√ß√µes especiais..."
                ></textarea>
            </div>
        </section>

        <section class="form-section">
            <h3>
                <mat-icon>check_circle</mat-icon>
                Status da doa√ß√£o
            </h3>
            
            <div class="status-buttons">
                <button 
                    type="button" 
                    class="status-btn"
                    [class.active]="doacao.status === 'Dispon√≠vel'"
                    (click)="setStatus('Dispon√≠vel')"
                >
                    <mat-icon>check_circle</mat-icon>
                    Dispon√≠vel
                </button>
                <button 
                    type="button" 
                    class="status-btn"
                    [class.active]="doacao.status === 'Reservada'"
                    (click)="setStatus('Reservada')"
                >
                    <mat-icon>schedule</mat-icon>
                    Reservada
                </button>
                <button 
                    type="button" 
                    class="status-btn"
                    [class.active]="doacao.status === 'Entregue'"
                    (click)="setStatus('Entregue')"
                >
                    <mat-icon>done_all</mat-icon>
                    Entregue
                </button>
            </div>
        </section>

        <div class="form-actions">
            <button type="button" class="btn-cancelar" (click)="irPara('home')">
                <mat-icon>close</mat-icon>
                Cancelar
            </button>
            <button type="submit" class="btn-cadastrar" (click)="irRegistrar('home')">
                <mat-icon>add_circle</mat-icon>
                Cadastrar doa√ß√£o
            </button>
        </div>
    </form>
</div>